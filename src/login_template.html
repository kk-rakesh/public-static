<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | {{companyName}}</title>
    <link rel="icon" type="image/png" href="{{faviconPath}}">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="logo-container">
            <a href="index.html" style="text-decoration: none; color: inherit;">
                <div class="logo">
                    <span class="logo-o">O</span><span class="logo-4">4</span><span class="logo-f">F</span>
                </div>
            </a>
            <div class="logo-tagline">{{logoTagline}}</div>
        </div>
    </header>

    <main style="display: flex; justify-content: center; align-items: center; flex: 1;">
        <div class="login-wrapper" style="max-width: 400px; width: 100%; text-align: center;">
            <h2 style="font-weight: 300; margin-bottom: 20px;">Investors Login</h2>
            <p style="color: var(--secondary-text); font-size: 14px; margin-bottom: 30px;">
                Please note that access is currently <strong>invite only</strong>.
            </p>

            <div id="error-message"
                style="color: #d93025; font-size: 13px; margin-bottom: 15px; display: none; padding: 10px; border-radius: 4px; background: #fce8e6; text-align: left;">
                <svg style="vertical-align: middle; margin-right: 8px;" width="16" height="16" viewBox="0 0 24 24"
                    fill="currentColor">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" />
                </svg>
                <span>Invalid username or password.</span>
            </div>

            <form id="login-form" class="login-form" onsubmit="return false;"
                style="display: flex; flex-direction: column; gap: 15px;">
                <input type="text" id="username" placeholder="Username or Email"
                    style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 4px; background: #fff; outline: none; transition: border-color 0.2s;">
                <input type="password" id="password" placeholder="Password"
                    style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 4px; background: #fff; outline: none; transition: border-color 0.2s;">
                <button type="submit" id="login-btn" disabled
                    style="padding: 12px; background-color: #f1f3f4; color: #70757a; border: none; border-radius: 4px; font-weight: 500; cursor: not-allowed; transition: all 0.2s ease;">Login</button>
            </form>

            <div class="invite-only-msg"
                style="margin-top: 20px; font-size: 12px; color: var(--secondary-text); font-style: italic;">
                If you have submitted the O4F Intent Form, please check your email for more details.
            </div>

            <a href="javascript:void(0)" id="signup-trigger"
                style="display: inline-block; margin-top: 25px; color: #4285f4; text-decoration: none; font-size: 15px; font-weight: 400; transition: opacity 0.2s ease;">
                Submit Intent / Sign up
            </a>

            <a href="index.html"
                style="display: block; margin-top: 35px; font-size: 14px; color: var(--secondary-text); text-decoration: none; transition: color 0.2s;">&larr;
                Back to home</a>
        </div>
    </main>

    <!-- Signup Modal -->
    <div id="signup-modal" class="iframe-overlay hidden">
        <div class="iframe-header">
            <div class="logo">
                <span class="logo-o">O</span><span class="logo-4">4</span><span class="logo-f">F</span>
            </div>
            <button id="close-signup-modal" class="iframe-close-btn">
                <span>&larr; Go back</span>
            </button>
        </div>
        <div class="iframe-container">
            <iframe id="signup-iframe" src="" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>
        </div>
    </div>

    <footer>
        <div class="footer-left">
            <nav class="footer-nav">
                {{footerLinks}}
            </nav>
            {{addressBlock}}
        </div>
        <div class="footer-trademark">
            @ 2026. o4f LLP. All rights reserved.
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Modal Logic
            const signupTrigger = document.getElementById('signup-trigger');
            const signupModal = document.getElementById('signup-modal');
            const closeSignupModal = document.getElementById('close-signup-modal');
            const signupIframe = document.getElementById('signup-iframe');
            const signupUrl = "https://docs.google.com/forms/d/e/1FAIpQLScIbH7GaqazZkbjeq-dwWh0h672N6bU-UFWRmnZGpBpFUZbqg/viewform?embedded=true";

            signupTrigger.addEventListener('click', () => {
                signupIframe.src = signupUrl;
                signupModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            });

            closeSignupModal.addEventListener('click', () => {
                signupModal.classList.add('hidden');
                signupIframe.src = '';
                document.body.style.overflow = '';
            });

            // Login Logic
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const loginBtn = document.getElementById('login-btn');
            const errorMsg = document.getElementById('error-message');
            const loginForm = document.getElementById('login-form');

            function validate() {
                const username = usernameInput.value.trim();
                const password = passwordInput.value.trim();

                // Reset error when user types
                errorMsg.style.display = 'none';
                usernameInput.style.borderColor = '#e0e0e0';
                passwordInput.style.borderColor = '#e0e0e0';

                if (username && password) {
                    loginBtn.disabled = false;
                    loginBtn.style.backgroundColor = '#1a1a1b';
                    loginBtn.style.color = '#fff';
                    loginBtn.style.cursor = 'pointer';
                } else {
                    loginBtn.disabled = true;
                    loginBtn.style.backgroundColor = '#f1f3f4';
                    loginBtn.style.color = '#70757a';
                    loginBtn.style.cursor = 'not-allowed';
                }
            }

            usernameInput.addEventListener('input', validate);
            passwordInput.addEventListener('input', validate);

            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();

                // Initial validation
                if (loginBtn.disabled) return;

                // Simulated loading
                const originalText = loginBtn.textContent;
                loginBtn.textContent = 'Verifying...';
                loginBtn.disabled = true;
                loginBtn.style.opacity = '0.7';

                setTimeout(() => {
                    // Show error
                    loginBtn.textContent = originalText;
                    loginBtn.disabled = false;
                    loginBtn.style.opacity = '1';

                    errorMsg.style.display = 'block';
                    usernameInput.style.borderColor = '#d93025';
                    passwordInput.style.borderColor = '#d93025';

                    // Shake animation effect
                    const wrapper = document.querySelector('.login-wrapper');
                    wrapper.style.transform = 'translateX(-10px)';
                    setTimeout(() => wrapper.style.transform = 'translateX(10px)', 50);
                    setTimeout(() => wrapper.style.transform = 'translateX(-10px)', 100);
                    setTimeout(() => wrapper.style.transform = 'translateX(0)', 150);
                }, 800);
            });
        });
    </script>
</body>

</html>